.hero-treatment {
  background-image: url('../img/bg/tile.png');
}

.usa-hero {
  background-attachment: fixed;
  background-image: none;
  padding-bottom: 0;
  padding-top: $space-xl;

  .large-header {
    color: $color-secondary;
    font-size: $font-size-xxl - $font-size-xs;
    font-weight: 800;
    letter-spacing: -.025em;
    line-height: .8625;
    text-transform: uppercase;

    .usa-hero-callout-alt {
      color: $color-white;
      display: block;
    }
  }
.usa-accordion {
  position: relative;
}

.usa-accordion-button {
  padding: 1rem 1.8rem;
  background-image: none;
  font-weight: inherit;
  width: auto;
  min-width: 0;
  border: 0;
  background-color: $color-neutral-light;
}
.usa-accordion-content {
  background: inherit;
  padding: inherit;
  position: absolute;
  top: -14.4rem;
}

  .usa-width-one-third {
    float: right;
  }

  .usa-button {
    color: initial;
    font-size: 2.1rem;
    font-family: $font-serif;
    font-weight: 600;
    line-height: 1.2;
    margin-top: 0;

    &.usa-button-big {
      padding: $space-s $space-m+$space-s $space-s $space-m+$space-xs;
      margin-bottom: $space-xl;
    }

    .subtext {
      display: block;
      font-family: $font-mono;
      font-size: $font-size-xxs;
      font-weight: 400;
    }

    &:hover {
      color: initial;
    }
    }

  .usa-header {
    background-color: transparent;
    margin-bottom: 6rem;
    }
    .caption p {
      background-color: $color-white-transprent;
      float: right;
      font-size: $font-size-xxs;
      margin: 0;
      padding: 5px 20px;
    }
  }

.landing-layout {

  .section-intro {
    .usa-width-one-third {
      padding-right: $space-s;
      h2 {
        min-height: $space-xl - $space-xs;
        line-height: $leading-xs;
      }
    }
  }

  .section-goodfit {
    background: $color-base url('../img/landing/quote-bg.png') no-repeat center center;
    background-size: cover;
    color: $color-white;

    .text-large {
      max-width: none;

      margin: 0;

      font-weight: bold;

      font-size: $font-size-m;

      line-height: $leading-s;


      @include media($medium-screen) {

        font-size: $font-size-l;

        line-height: $leading-xs;

      }


      a {

        &:last-child {

          color: $color-secondary;

          border-bottom: 1px dotted transparent;

          transition: border-bottom-color .3s;


          &:after {

            display: inline-block;

            transition: transform .3s;

            content: '\00a0\2192'; // non-breaking space and arrow pointing to the right

          }


          &:hover,

          &:focus {

            border-bottom-color: $color-secondary;


            &:after {

              transform: translateX(5px);

            }

          }

        }

      }

    }


    .divider {

      margin-bottom: $space-l;

      margin-top: $space-l;

    }


    small {

      display: block;

      margin-top: $space-l;

      margin-bottom: (-$space-l); // pull it down over the usa-section bottom padding

      padding: $space-s 0;

      background: rgba(#000, .2);


      p {

        margin: 0;

        max-width: none;

        font-size: $font-size-xxs;

      }


      @include media($medium-screen) {

        margin-bottom: (-$space-xl); // usa-section updates its bottom padding at this breakpoint

      }

    }

  }


  .section-testimonials {

    $control-btn-tap-area: 3.5rem;

    $dot-size: 1rem;

    $dot-space: ($control-btn-tap-area - $dot-size) / 2; // the space between the edge of the dot and the edge of it's clickable area


    overflow: hidden;


    h2 {

      &:before {

        display: inline-block;

        vertical-align: baseline;

        width: $leading-xxs * 1em;

        height: $leading-xxs * 1em;

        margin-right: 1rem;

        margin-bottom: -($leading-xxs - 1) * 1em;

        background: $color-primary-alt-lightest url('../img/landing/quote.svg') no-repeat center center;

        background-size: 60%;

        content: '';

      }

    }


    .carousel {


      ul {

        margin: 0;

        padding: 0;

        list-style-type: none;


        &.slidenav {

          padding-right: $control-btn-tap-area + 1rem; // reserved space for the stop/play button

        }

      }

    }


    .slides {

      display: flex;

      padding-bottom: 1rem + $dot-space;

      border-bottom: 1px solid $color-primary-alt-lightest;

    }


    .slide {

      position: relative;

      display: flex;

      flex: 0 0 100%;

      min-width: 100%;

      margin-bottom: 0;

      margin-left: -100%; // stack them on top of each other

      opacity: 0;

      z-index: 0;

      visibility: hidden;

      transition: opacity 1s;


      &:first-child {

        margin-left: 0; // use this to push everything else over (and their negative margins will pull them back)

      }


      &:focus-visible {

        background-color: $color-white;

        box-shadow: 0 0 30px rgba($color-focus, .1);

        outline: 0;

      }


      &.current,

      &.in-transition {

        visibility: visible;

        z-index: 1;

      }


      &.current {

        opacity: 1;

      }


      img {

        flex: 0 0 auto;

        align-self: flex-start;

        width: 25vw;

        min-width: 100px;

        max-width: 200px;

        margin-right: $space-l;

      }


      blockquote {

        flex: 1 1 100%;

        margin: 0;


        p {

          max-width: none;

          margin: 0;

          font-weight: bold;

          font-size: $font-size-xs;


          @include media($medium-screen) {

            font-size: $font-size-s;

          }


          @include media($large-screen) {

            font-size: $font-size-m;

          }

        }

      }


      .divider {

        margin-top: $space-s;

        margin-bottom: $space-s;

        border-color: $color-base;

      }


      cite {

        display: block;

        font-size: $font-size-xs;


        strong {

          display: block;

        }

      }

    }


    .controls {

      display: none;

    }


    .slidenav {

      position: relative;

      display: flex;

      flex-wrap: wrap;

      justify-content: flex-start;

      width: 100%;


      button {

        display: flex;

        align-items: center;

        justify-content: center;

        width: $control-btn-tap-area;

        min-width: auto;

        height: $control-btn-tap-area;

        margin: 0;

        padding: 0;

        border: 0;

        border-radius: 0;

        background: transparent;


        &:after {

          display: inline-block;

        }

      }


      li {

        display: inline-block;

        margin: 0;


        // the stop/play button

        &:first-child {

          position: absolute;

          top: 0;

          right: 0;

        }


        // the slide indicators

        &:nth-child(n + 2) {

          margin-left: -$dot-space;

          margin-right: $dot-space;


          button {

            &:after {

              width: $dot-size;

              height: $dot-size;

              background: $color-white;

              border: 1px solid $color-base;

              border-radius: 50%;

              transition: background .3s, border-color .3s, box-shadow .3s;

              content: '';

            }


            &:hover,

            &:focus {

              box-shadow: none;


              &:after {

                background-color: $color-secondary-lightest;

                box-shadow: 0 0 5px 2px $color-secondary;

              }

            }


            &.current {

              &,

              &:hover,

              &:focus {

                &:after {

                  background: $color-primary-alt-lightest;

                }

              }

            }


          }

        }

      }

    }


    .btn-stop,

    .btn-start {

      color: $color-base;

      transition: background .3s;
      
      width: auto;


      &:hover,

      &:focus {

        /*background: $color-secondary-lightest;

        box-shadow: none;
        
        width:auto;*/

      }
      
      span {
        cursor:auto;
      }

    }


    .btn-stop {

      &:after {

        content: '\25A0'; // filled square

      }

    }


    .btn-start {

      &:after {

        margin-left: .2em; // more visual weight on the wide end of the triangle - shift it towards the center

        content: '\25B2'; // filled up pointing triangle (the vertical alignment worked better than the right pointing one)

        transform: rotate(90deg);

      }

    }

  }

  .usa-width-one-half {
    padding-right: $space-s;
  }

}
